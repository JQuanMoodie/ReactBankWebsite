(this["webpackJsonpbank-of-react"]=this["webpackJsonpbank-of-react"]||[]).push([[0],{31:function(e,t,s){},59:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s.n(n),r=s(25),a=s.n(r),i=(s(31),s(4)),o=s(2),d=s(14),b=s.n(d),j=s(0);class l extends n.Component{render(){return Object(j.jsxs)("div",{children:["Balance: ",this.props.accountBalance]})}}var h=l;class u extends n.Component{render(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{src:"https://picsum.photos/200/200",alt:"bank"}),Object(j.jsx)("h1",{children:"Bank of React"}),Object(j.jsx)(i.b,{to:"/userProfile",children:"User Profile"}),Object(j.jsx)("br",{}),Object(j.jsx)(i.b,{to:"/login",children:"Login"}),Object(j.jsx)("br",{}),Object(j.jsx)(i.b,{to:"/credits",children:"Credits"}),Object(j.jsx)("br",{}),Object(j.jsx)(i.b,{to:"/debits",children:"Debits"}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)(h,{accountBalance:this.props.accountBalance})]})}}var p=u;class x extends n.Component{render(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"User Profile"}),Object(j.jsxs)("div",{children:["Username: ",this.props.userName]}),Object(j.jsxs)("div",{children:["Member Since: ",this.props.memberSince]}),Object(j.jsx)("br",{}),Object(j.jsx)(i.b,{to:"/",children:"Return to Home"})]})}}var m=x;class O extends n.Component{constructor(e){super(e),this.handleChange=e=>{const t={...this.state.user};t.userName=e.target.value,this.setState({user:t})},this.handleSubmit=e=>{e.preventDefault(),this.props.mockLogIn(this.state.user),this.setState({redirect:!0})},this.state={user:{userName:this.props.user.userName,password:""},redirect:!1}}render(){return this.state.redirect?Object(j.jsx)(o.a,{to:"/userProfile"}):Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Login"}),Object(j.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"User Name"}),Object(j.jsx)("input",{type:"text",name:"userName",defaultValue:this.props.user.userName,onChange:this.handleChange})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Password"}),Object(j.jsx)("input",{type:"password",name:"password"})]}),Object(j.jsx)("button",{children:"Log In"})]}),Object(j.jsx)("br",{}),Object(j.jsx)(i.b,{to:"/",children:"Return to Home"})]})}}var g=O;var v=e=>Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Credits"}),(()=>{const{credits:t}=e;return t.map((e=>{let t=e.date.slice(0,10);return Object(j.jsxs)("li",{children:[e.amount," ",e.description," ",t]},e.id)}))})(),Object(j.jsxs)("form",{onSubmit:e.addCredit,children:[Object(j.jsx)("input",{type:"text",name:"description"}),Object(j.jsx)("input",{type:"number",name:"amount",step:"0.01"}),Object(j.jsx)("button",{type:"submit",children:"Add Credit"})]}),Object(j.jsx)("br",{}),Object(j.jsx)(i.b,{to:"/",children:"Return to Home"}),Object(j.jsxs)("h2",{children:["Balance: ",e.accountBalance]})]});var B=e=>Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Debits"}),(()=>{const{debits:t}=e;return t.map((e=>{let t=e.date.slice(0,10);return Object(j.jsxs)("li",{children:[e.amount," ",e.description," ",t]},e.id)}))})(),Object(j.jsxs)("form",{onSubmit:e.addDebit,children:[Object(j.jsx)("input",{type:"text",name:"description"}),Object(j.jsx)("input",{type:"number",name:"amount",step:"0.01"}),Object(j.jsx)("button",{type:"submit",children:"Add Debit"})]}),Object(j.jsx)("br",{}),Object(j.jsx)(i.b,{to:"/",children:"Return to Home"}),Object(j.jsxs)("h2",{children:["Balance: ",e.accountBalance]})]});class S extends n.Component{constructor(){super(),this.mockLogIn=e=>{const t={...this.state.currentUser};t.userName=e.userName,this.setState({currentUser:t})},this.addDebit=e=>{e.preventDefault();const t=e.target.description.value;let s=parseFloat(e.target.amount.value);const n=parseFloat(s.toFixed(2));if(t&&n){const e={id:Date.now(),description:t,amount:n,date:(new Date).toISOString()};this.setState((t=>({debitList:[...t.debitList,e],accountBalance:parseFloat((t.accountBalance-n).toFixed(2))})))}e.target.reset()},this.addCredit=e=>{e.preventDefault();const t=e.target.description.value;let s=parseFloat(e.target.amount.value);const n=parseFloat(s.toFixed(2));if(t&&n){const e={id:Date.now(),description:t,amount:n,date:(new Date).toISOString()};this.setState((t=>({creditList:[...t.creditList,e],accountBalance:parseFloat((t.accountBalance+n).toFixed(2))})))}e.target.reset()},this.state={accountBalance:0,creditList:[],debitList:[],currentUser:{userName:"John Doe",memberSince:"11/22/99"}},this.creditComponentDidMount(),this.debitComponentDidMount()}async creditComponentDidMount(){try{let e=await b.a.get("https://johnnylaicode.github.io/api/credits.json");console.log(e),this.setState({creditList:e.data})}catch(e){e.response&&(console.log(e.response.data),console.log(e.response.status))}}async debitComponentDidMount(){try{let e=await b.a.get("https://johnnylaicode.github.io/api/debits.json");console.log(e),this.setState({debitList:e.data})}catch(e){e.response&&(console.log(e.response.data),console.log(e.response.status))}this.updateAccountBalance()}updateAccountBalance(){let e=0;for(let s=0;s<this.state.creditList.length;s++)e+=this.state.creditList[s].amount;for(let s=0;s<this.state.debitList.length;s++)e-=this.state.debitList[s].amount;let t=parseFloat(e.toFixed(2));this.setState({accountBalance:t})}render(){return Object(j.jsx)(i.a,{basename:"/ReactBank",children:Object(j.jsxs)("div",{children:[Object(j.jsx)(o.b,{exact:!0,path:"/",render:()=>Object(j.jsx)(p,{accountBalance:this.state.accountBalance})}),Object(j.jsx)(o.b,{exact:!0,path:"/userProfile",render:()=>Object(j.jsx)(m,{userName:this.state.currentUser.userName,memberSince:this.state.currentUser.memberSince})}),Object(j.jsx)(o.b,{exact:!0,path:"/login",render:()=>Object(j.jsx)(g,{user:this.state.currentUser,mockLogIn:this.mockLogIn})}),Object(j.jsx)(o.b,{exact:!0,path:"/credits",render:()=>Object(j.jsx)(v,{credits:this.state.creditList,accountBalance:this.state.accountBalance,addCredit:this.addCredit})}),Object(j.jsx)(o.b,{exact:!0,path:"/debits",render:()=>Object(j.jsx)(B,{debits:this.state.debitList,accountBalance:this.state.accountBalance,addDebit:this.addDebit})})]})})}}var L=S;var f=e=>{e&&e instanceof Function&&s.e(3).then(s.bind(null,60)).then((t=>{let{getCLS:s,getFID:n,getFCP:c,getLCP:r,getTTFB:a}=t;s(e),n(e),c(e),r(e),a(e)}))};a.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(L,{})}),document.getElementById("root")),f()}},[[59,1,2]]]);
//# sourceMappingURL=main.b6bbe3df.chunk.js.map